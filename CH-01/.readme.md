## üì¶ Creating Exchanges in RabbitMQ

When creating an exchange in RabbitMQ, you can configure several options and arguments to control its behavior. Below are the commonly used configurations:

---

### 1Ô∏è‚É£ Exchange Options

These are the standard options available when declaring an exchange. Default values are mentioned.

| Option       | Type    | Default | Description |
|--------------|---------|---------|-------------|
| `durable`    | boolean | `false` | If `true`, the exchange will survive a broker restart. |
| `autoDelete` | boolean | `false` | If `true`, the exchange will be deleted once all queues have unbound. |
| `internal`   | boolean | `false` | If `true`, the exchange is only usable by RabbitMQ itself (not for publishing). |
| `arguments`  | object  | `{}`    | A map of additional settings for advanced behavior. |

---

### 2Ô∏è‚É£ Advanced Arguments (Exchange-Level)

These are the valid and functional arguments supported by RabbitMQ **at the exchange level**. Use them for advanced message routing behaviors.

| Argument              | Type   | Description |
|-----------------------|--------|-------------|
| `x-delayed-type`      | string | Used with the **x-delayed-message** plugin. Specifies the base exchange type (e.g., `direct`, `topic`). |
| `alternate-exchange`  | string | Name of a fallback exchange where unroutable messages will be sent. Useful for error handling or dead-letter routing. |


## x-delayed exchanges:
### purpose:
Supports delaying on per message basis. Good for scheduling, retries, etc.

It has an underlying exchnage type and works excatly like a normal exchnage. The only differene is that it allows you to publish messages with delay duration specified in header. When a message is received on this exchange, it will delay the delivery by the specified time duration.

channel.publish(
  'delayed-exchange',
  'routing-key',
  Buffer.from('Process this task after 10 seconds'),
  {
    headers: {
      'x-delay': 10000 // Delay in milliseconds
    }
  }
);



## alternate exchanges:
### purpose:
You have a primary exchange. Now, a message is published over this exchnage but cannot be delivered to any queue because of no matching binding.

So, you want a fallback mechanism for such scenario. And exactly this is where alternate exchnage comes into picture.

1. Create an alternate exchnage (a normal exchnage only. usually fanout[otherwise even on this exchnage there may be issues with routing key not match]). Let's say the name is 'alternate-exch-1'
2. Bound 1/more queues to this alternate exchnage.

2. Now, create your primary exchnage with an argument: 'alternate-exchnage':'alternate-exch-1'